(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const qe="data:image/webp;base64,UklGRnoEAABXRUJQVlA4TG4EAAAvL8ALEBXREQDatF1lfHvtfWPbtm207JzKtm3t9RA7A9FBzrlVylXF6V6fCbhLZWMIyRisVcZVShtlppGVlPa3O44AciRJiiTXX6r7MVbW7h4zM/PNSIwkSZFkSd6zx8w4y5W1R/+SAAAsI8m2bdu2bdu28bVt2/Yx07Vt27Z3AmhJvAEjCYxRZhBWnCt+FJ0pQYmme7sLvl2Cftvr3cg4doCaKMoIJrCY8ft4GJNvm/z02dnsgnGjCYkeoCzJMNbH9u6RmZufvE0oPgxS0QIoKd6776822Fn47QIAy1sDAxgMFgYBP1VAUmyWeL0C7Dqm9096dABEBAU4AG8imnQfgMGBMdN6duO61w8DwMmrYHYCX8q4rX5/u2nGaVc0kV6K3OzfZwPs+QT4jMAfiEFY8fJDq5PPWR64vT0yg2NR2HloKgq8ncO8/geejgWRDHLgSBpevQwzJg22+7Pb3rwGPCheNeJumoCUf9OsV+/d9ZbiOwJ2AFlAA8ak5Ms1YJuUUEztPbnR2fPo8l3JoHK5er3z/nLVo8D7OUwxngi4AK9Jhp+jEUy+bXoofvKDQmSTfC77dA0EmEwJuoMUWZFxWh822124bElYE4DGXhKPY23MZPeAyX5s/kiJaP4qZEwgzvRzPCwvXTKCCfzVXNa5e4R67a62Rk/3d20O3+dyfp71X9e40eK/A+7vHLbdz3b2w0/OKatNZLt3R03r3oxjTwzqDpoPPOCuWL0gikfFbwMnLX5KEIEhqXN7DzGmPMg9tvcStvuz7dE8/2KXgchBRCnBisBUBQQKEvCWdL+LccaqbvK2nUh+Kl88Av4LuAaeBm5vj2znIjZ/pD7mz0HCysT45N2MY1vxrRANRRMrZZ5vAGO1E/mN7Z0QVr5anL6MC/AnjAjYitsDOzE1Px8EX4RV5Zzsf1oUBV8IGlMp+HYJGCvm5B/rwIrJd4Orp0HRJISgKJE2h/O87dxN2y1UTPywatp2V2KVzi2PM4TJ8M4ExVwIAJD7thucsd0fNvlhtunDmJTXrKMNGhHFbWyFbbrVpt9x9sWFSRKb0S5wHwLwX+5j5d+0xcJhV5ucX7J9yLPJLDPHbe7lMUng24q7EK7JuiNkO8cunpPXlxS2u+V/4BlYDgEIlOr3dzCO6+a13fG+MPm7GZOHNkfznAA1ISSBTpIMiyX+e978jI5VCz5scjNpY0MXUxXCeT5OITEYhkBArzS8fB5irJjHTprdpjc8MHUdk9awsx9+rDz22F1tvlXsLw0jMRxvNZe9d9c7WHmNSSw338DKPTNj8nYJ9/+TxHSJY+p0Z5JhrIrCnEIF/OTUa/771zMx2Qvi5KC2PX7yg3UFk9S/hk93Vyn+FzNyjULWJMja2nf30FHGyhpWam06E5OKZ/9z4/PXUW0cyvutYZHG/geJDA6Kvl2Blkcfs4N2difju96edzyYlys+3oCkw1iW5Yr4lCBS+AYaRWGCeALdBgGKziTgaUyBHKAdGFb0AMWAy3e05Bw=";/**
* @vue/shared v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ze(e,t){const n=new Set(e.split(","));return r=>n.has(r)}const $e=Object.prototype.hasOwnProperty,Y=(e,t)=>$e.call(e,t),w=Array.isArray,W=e=>Le(e)==="[object Map]",F=e=>typeof e=="function",Qe=e=>typeof e=="string",T=e=>typeof e=="symbol",A=e=>e!==null&&typeof e=="object",et=e=>(A(e)||F(e))&&F(e.then)&&F(e.catch),tt=Object.prototype.toString,Le=e=>tt.call(e),nt=e=>Le(e).slice(8,-1),de=e=>Qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,I=(e,t)=>!Object.is(e,t);let Ee;const rt=()=>Ee||(Ee=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});/**
* @vue/reactivity v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ot;function st(e,t=ot){t&&t.active&&t.effects.push(e)}let R;class lt{constructor(t,n,r,o){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,st(this,o)}get dirty(){if(this._dirtyLevel===2)return!1;if(this._dirtyLevel===3||this._dirtyLevel===4){this._dirtyLevel=1,$();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed){if(n.computed.effect._dirtyLevel===2)return!0;if(at(n.computed),this._dirtyLevel>=5)break}}this._dirtyLevel===1&&(this._dirtyLevel=0),Q()}return this._dirtyLevel>=5}set dirty(t){this._dirtyLevel=t?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=N,n=R;try{return N=!0,R=this,this._runnings++,ye(this),this.fn()}finally{ve(this),this._runnings--,R=n,N=t}}stop(){this.active&&(ye(this),ve(this),this.onStop&&this.onStop(),this.active=!1)}}function at(e){return e.value}function ye(e){e._trackId++,e._depsLength=0}function ve(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Ie(e.deps[t],e);e.deps.length=e._depsLength}}function Ie(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let N=!0,le=0;const xe=[];function $(){xe.push(N),N=!1}function Q(){const e=xe.pop();N=e===void 0?!0:e}function pe(){le++}function fe(){for(le--;!le&&ae.length;)ae.shift()()}function De(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Ie(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const ae=[];function Ce(e,t,n){pe();for(const r of e.keys()){if(!e.computed&&r.computed&&e.get(r)===r._trackId&&r._runnings>0){r._dirtyLevel=2;continue}let o;r._dirtyLevel<t&&(o??(o=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r.computed&&r._dirtyLevel===2&&(r._shouldSchedule=!0),r._dirtyLevel=t),r._shouldSchedule&&(o??(o=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==3&&(r._shouldSchedule=!1,r.scheduler&&ae.push(r.scheduler)))}fe()}const Pe=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},ie=new WeakMap,L=Symbol(""),ue=Symbol("");function _(e,t,n){if(N&&R){let r=ie.get(e);r||ie.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Pe(()=>r.delete(n))),De(R,o)}}function S(e,t,n,r,o,s){const a=ie.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&w(e)){const d=Number(r);a.forEach((m,h)=>{(h==="length"||!T(h)&&h>=d)&&l.push(m)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":w(e)?de(n)&&l.push(a.get("length")):(l.push(a.get(L)),W(e)&&l.push(a.get(ue)));break;case"delete":w(e)||(l.push(a.get(L)),W(e)&&l.push(a.get(ue)));break;case"set":W(e)&&l.push(a.get(L));break}pe();for(const d of l)d&&Ce(d,5);fe()}const it=Ze("__proto__,__v_isRef,__isVue"),Me=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(T)),we=ut();function ut(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=u(this);for(let s=0,a=this.length;s<a;s++)_(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(u)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){$(),pe();const r=u(this)[t].apply(this,n);return fe(),Q(),r}}),e}function ct(e){T(e)||(e=String(e));const t=u(this);return _(t,"has",e),t.hasOwnProperty(e)}class Te{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const o=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(o?s?Nt:Be:s?wt:Oe).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=w(t);if(!o){if(a&&Y(we,n))return Reflect.get(we,n,r);if(n==="hasOwnProperty")return ct}const l=Reflect.get(t,n,r);return(T(n)?Me.has(n):it(n))||(o||_(t,"get",n),s)?l:Z(l)?a&&de(n)?l:l.value:A(l)?o?Ke(l):X(l):l}}class dt extends Te{constructor(t=!1){super(!1,t)}set(t,n,r,o){let s=t[n];if(!this._isShallow){const d=q(s);if(!Ue(r)&&!q(r)&&(s=u(s),r=u(r)),!w(t)&&Z(s)&&!Z(r))return d?!1:(s.value=r,!0)}const a=w(t)&&de(n)?Number(n)<t.length:Y(t,n),l=Reflect.set(t,n,r,o);return t===u(o)&&(a?I(r,s)&&S(t,"set",n,r):S(t,"add",n,r)),l}deleteProperty(t,n){const r=Y(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&S(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!T(n)||!Me.has(n))&&_(t,"has",n),r}ownKeys(t){return _(t,"iterate",w(t)?"length":L),Reflect.ownKeys(t)}}class pt extends Te{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ft=new dt,ht=new pt,he=e=>e,ee=e=>Reflect.getPrototypeOf(e);function U(e,t,n=!1,r=!1){e=e.__v_raw;const o=u(e),s=u(t);n||(I(t,s)&&_(o,"get",t),_(o,"get",s));const{has:a}=ee(o),l=r?he:n?Ve:M;if(a.call(o,t))return l(e.get(t));if(a.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function j(e,t=!1){const n=this.__v_raw,r=u(n),o=u(e);return t||(I(e,o)&&_(r,"has",e),_(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function H(e,t=!1){return e=e.__v_raw,!t&&_(u(e),"iterate",L),Reflect.get(e,"size",e)}function Ne(e){e=u(e);const t=u(this);return ee(t).has.call(t,e)||(t.add(e),S(t,"add",e,e)),this}function Se(e,t){t=u(t);const n=u(this),{has:r,get:o}=ee(n);let s=r.call(n,e);s||(e=u(e),s=r.call(n,e));const a=o.call(n,e);return n.set(e,t),s?I(t,a)&&S(n,"set",e,t):S(n,"add",e,t),this}function be(e){const t=u(this),{has:n,get:r}=ee(t);let o=n.call(t,e);o||(e=u(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&S(t,"delete",e,void 0),s}function Re(){const e=u(this),t=e.size!==0,n=e.clear();return t&&S(e,"clear",void 0,void 0),n}function k(e,t){return function(r,o){const s=this,a=s.__v_raw,l=u(a),d=t?he:e?Ve:M;return!e&&_(l,"iterate",L),a.forEach((m,h)=>r.call(o,d(m),d(h),s))}}function J(e,t,n){return function(...r){const o=this.__v_raw,s=u(o),a=W(s),l=e==="entries"||e===Symbol.iterator&&a,d=e==="keys"&&a,m=o[e](...r),h=n?he:t?Ve:M;return!t&&_(s,"iterate",d?ue:L),{next(){const{value:E,done:V}=m.next();return V?{value:E,done:V}:{value:l?[h(E[0]),h(E[1])]:h(E),done:V}},[Symbol.iterator](){return this}}}}function v(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Vt(){const e={get(s){return U(this,s)},get size(){return H(this)},has:j,add:Ne,set:Se,delete:be,clear:Re,forEach:k(!1,!1)},t={get(s){return U(this,s,!1,!0)},get size(){return H(this)},has:j,add:Ne,set:Se,delete:be,clear:Re,forEach:k(!1,!0)},n={get(s){return U(this,s,!0)},get size(){return H(this,!0)},has(s){return j.call(this,s,!0)},add:v("add"),set:v("set"),delete:v("delete"),clear:v("clear"),forEach:k(!0,!1)},r={get(s){return U(this,s,!0,!0)},get size(){return H(this,!0)},has(s){return j.call(this,s,!0)},add:v("add"),set:v("set"),delete:v("delete"),clear:v("clear"),forEach:k(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=J(s,!1,!1),n[s]=J(s,!0,!1),t[s]=J(s,!1,!0),r[s]=J(s,!0,!0)}),[e,n,t,r]}const[_t,mt,gt,Et]=Vt();function Ae(e,t){const n=t?e?Et:gt:e?mt:_t;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Y(n,o)&&o in r?n:r,o,s)}const yt={get:Ae(!1,!1)},vt={get:Ae(!0,!1)},Oe=new WeakMap,wt=new WeakMap,Be=new WeakMap,Nt=new WeakMap;function St(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bt(e){return e.__v_skip||!Object.isExtensible(e)?0:St(nt(e))}function X(e){return q(e)?e:ze(e,!1,ft,yt,Oe)}function Ke(e){return ze(e,!0,ht,vt,Be)}function ze(e,t,n,r,o){if(!A(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=bt(e);if(a===0)return e;const l=new Proxy(e,a===2?r:n);return o.set(e,l),l}function q(e){return!!(e&&e.__v_isReadonly)}function Ue(e){return!!(e&&e.__v_isShallow)}function u(e){const t=e&&e.__v_raw;return t?u(t):e}const M=e=>A(e)?X(e):e,Ve=e=>A(e)?Ke(e):e;class Rt{constructor(t,n,r,o){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new lt(()=>t(this._value),()=>G(this,this.effect._dirtyLevel===3?3:4)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=u(this);return(!t._cacheable||t.effect.dirty)&&I(t._value,t._value=t.effect.run())&&G(t,5),je(t),t.effect._dirtyLevel>=2&&G(t,3),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function je(e){var t;N&&R&&(e=u(e),De(R,(t=e.dep)!=null?t:e.dep=Pe(()=>e.dep=void 0,e instanceof Rt?e:void 0)))}function G(e,t=5,n,r){e=u(e);const o=e.dep;o&&Ce(o,t)}function Z(e){return!!(e&&e.__v_isRef===!0)}function P(e){return Lt(e,!1)}function Lt(e,t){return Z(e)?e:new It(e,t)}class It{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:u(t),this._value=n?t:M(t)}get value(){return je(this),this._value}set value(t){const n=this.__v_isShallow||Ue(t)||q(t);t=n?t:u(t),I(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=n?t:M(t),G(this,5))}}/**
* @vue/runtime-core v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function He(e,t,n,r){try{return r?e(...r):e()}catch(o){Je(o,t,n)}}function ke(e,t,n,r){if(F(e)){const o=He(e,t,n,r);return o&&et(o)&&o.catch(s=>{Je(s,t,n)}),o}if(w(e)){const o=[];for(let s=0;s<e.length;s++)o.push(ke(e[s],t,n,r));return o}}function Je(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const m=s.ec;if(m){for(let h=0;h<m.length;h++)if(m[h](e,a,l)===!1)return}s=s.parent}const d=t.appContext.config.errorHandler;if(d){$(),He(d,null,10,[e,a,l]),Q();return}}xt(e,n,o,r)}function xt(e,t,n,r=!0){console.error(e)}function Dt(e,t,n=te,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{$();const l=Mt(n),d=ke(t,n,e,a);return l(),Q(),d});return r?o.unshift(s):o.push(s),s}}const Ct=e=>(t,n=te)=>{(!We||e==="sp")&&Dt(e,(...r)=>t(...r),n)},Pt=Ct("m");let te=null,ce;{const e=rt(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),s=>{o.length>1?o.forEach(a=>a(s)):o[0](s)}};ce=t("__VUE_INSTANCE_SETTERS__",n=>te=n),t("__VUE_SSR_SETTERS__",n=>We=n)}const Mt=e=>{const t=te;return ce(e),e.scope.on(),()=>{e.scope.off(),ce(t)}};let We=!1;const p=e=>(Vue.pushScopeId("data-v-fdfb92f3"),e=e(),Vue.popScopeId(),e),Tt={class:"grid"},At={key:0,class:"weather"},Ot={class:"current-time"},Bt={class:"current-live"},Kt=p(()=>Vue.createElementVNode("div",{class:"placeholder"},null,-1)),zt={class:"info"},Ut={class:"summary"},jt={class:"text"},Ht=["src"],kt={key:0,class:"severe"},Jt={class:"current-info"},Wt=p(()=>Vue.createElementVNode("span",null," 风速 ",-1)),Ft=p(()=>Vue.createElementVNode("span",null," 相对湿度 ",-1)),Gt=p(()=>Vue.createElementVNode("span",null," 能见度 ",-1)),Yt=p(()=>Vue.createElementVNode("span",null," 降水量 ",-1)),Xt=p(()=>Vue.createElementVNode("span",null," 大气压 ",-1)),qt=p(()=>Vue.createElementVNode("span",null," 露点 ",-1)),Zt={class:"hourly"},$t=p(()=>Vue.createElementVNode("h3",null,"逐小时预报",-1)),Qt={class:"daily"},en=p(()=>Vue.createElementVNode("h3",null,"一周预报",-1)),tn={style:{display:"grid","grid-template-rows":"repeat(2, 1fr)","justify-items":"center"}},nn=p(()=>Vue.createElementVNode("br",null,null,-1)),rn=p(()=>Vue.createElementVNode("br",null,null,-1)),on={class:"indices"},sn=p(()=>Vue.createElementVNode("h3",null,"生活指数",-1)),ln={class:"air",style:{position:"relative"}},an=p(()=>Vue.createElementVNode("h3",null,"空气质量",-1)),un=p(()=>Vue.createElementVNode("span",null,"PM10",-1)),cn=p(()=>Vue.createElementVNode("span",null,"PM2.5",-1)),dn=p(()=>Vue.createElementVNode("span",null,"CO",-1)),pn=p(()=>Vue.createElementVNode("span",null,[Vue.createTextVNode("NO"),Vue.createElementVNode("sub",null,"2")],-1)),fn=p(()=>Vue.createElementVNode("span",null,[Vue.createTextVNode("SO"),Vue.createElementVNode("sub",null,"2")],-1)),hn=p(()=>Vue.createElementVNode("span",null,[Vue.createTextVNode("O"),Vue.createElementVNode("sub",null,"3")],-1)),Vn=p(()=>Vue.createElementVNode("a",{href:"https://www.qweather.com/",target:"_blank",rel:"noopener noreferrer"}," 天气数据由和风天气提供 ",-1)),_n=p(()=>Vue.createElementVNode("a",{href:"https://qcyblm.deve2.com/",target:"_blank",rel:"noopener noreferrer"},"qcyblm",-1)),mn={key:1},gn=Vue.defineComponent({__name:"App",setup(e){const t=P(),n=P(!0),r=new URL(qe,import.meta.url).toString(),o=()=>{const c=new Date().getHours();return c>=6&&c<=18?"d":"n"},s=X({data_domain:"https://devapi.qweather.com/v7",geo:"https://geoapi.qweather.com/v2/city/lookup",privateKey:"0210e1ce58b04de2a285a149b730c36c"}),a=X({data_domain:"https://restapi.amap.com/v3/ip",key:"f51bb1449714b1a497014083a637c388"}),l=P([{text:"obsTime"},{text:"temp"},{text:"feelsLike"},{text:"icon"},{text:"text"},{text:"wind360"},{text:"windDir"},{text:"windScale"},{text:"windSpeed"},{text:"humidity"},{text:"precip"},{text:"pressure"},{text:"vis"},{text:"cloud"},{text:"dew"}]),d=(c,f)=>o()==="d"?c:f,m=c=>`rgba(${chroma(c).alpha(.8).rgba()})`,h=P(!1),E=P(),V=async(c,f)=>{try{return c.search=f.toString(),(await fetch(c.toString(),{method:"GET"})).json()}catch{n.value=!1,t.value=!0}},_e=async c=>{try{const{adm1:f,adm2:b,name:O,id:re,lon:oe,lat:se}=c;l.value.geo=`${f}${O===b?b:`${b}${O}`}`;const g=new URLSearchParams;g.append("location",re),g.append("key",s.privateKey);const y=z=>`${s.data_domain}/${z}`,x=new URLSearchParams;x.append("location",`${oe},${se}`),x.append("key",s.privateKey);const D=new URLSearchParams(g);D.append("type","1,2,3,4,5,6,7,8,9");const[C,B,K,i,Fe,Ge,Ye]=await Promise.all([V(new URL(y("weather/now")),g),V(new URL(`${s.data_domain}/minutely/5m`),x),V(new URL(y("air/now")),g),V(new URL(y("indices/1d")),D),V(new URL(y("weather/24h")),g),V(new URL(y("weather/7d")),g),V(new URL(y("warning/now")),g)]),Xe=await C.now;l.value.map(z=>{z.value=Xe[z.text]}),l.value.updateTime=C.updateTime,l.value.summary=B.summary,l.value.air=K.now,l.value.indices=i.daily,l.value.hourly=Fe.hourly,l.value.daily=Ge.daily,l.value.warning=Ye.warning}catch(f){throw console.error(f)}finally{n.value=!1}},me=new URLSearchParams;me.append("key",a.key);const ne=async()=>{n.value=!0;const c=await V(new URL(a.data_domain),me);if(typeof c.province=="string"||typeof c.city=="string"){h.value=!1;const f=new URLSearchParams;f.append("location",c.city),f.append("key",s.privateKey),f.append("ad",c.province),E.value=await V(new URL(s.geo),f),await _e(E.value.location[0])}else alert("高德地图IP定位失败，请保持经纬度定位，无需再按！")},ge=()=>{if(n.value=!0,navigator.geolocation)navigator.geolocation.getCurrentPosition(async c=>{h.value=!0;const f=new URLSearchParams;f.append("location",`${c.coords.longitude},${c.coords.latitude}`),f.append("key",s.privateKey),E.value=await V(new URL(s.geo),f),await _e(E.value.location[0])},c=>{if(c.code===c.PERMISSION_DENIED)return ne()});else return ne()};return Pt(()=>ge()),(c,f)=>{const b=Vue.resolveComponent("IEpLocationInformation"),O=Vue.resolveComponent("IEpMapLocation"),re=Vue.resolveComponent("ElIcon"),oe=Vue.resolveComponent("ElTooltip"),se=Vue.resolveComponent("AqiChart"),g=Vue.resolveComponent("ElEmpty"),y=Vue.resolveComponent("ElConfigProvider"),x=Vue.resolveDirective("loading");return Vue.openBlock(),Vue.createBlock(y,null,{default:Vue.withCtx(()=>{var D,C,B,K;return[Vue.createElementVNode("div",Tt,[Vue.unref(l).updateTime?Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",At,[Vue.createElementVNode("header",null,[Vue.createElementVNode("address",null,[Vue.createVNode(re,{color:"#fff",onClick:f[0]||(f[0]=()=>Vue.unref(h)?ne():ge())},{default:Vue.withCtx(()=>[Vue.unref(h)?(Vue.openBlock(),Vue.createBlock(b,{key:0})):(Vue.openBlock(),Vue.createBlock(O,{key:1}))]),_:1}),Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l).geo),1)]),Vue.createElementVNode("span",Ot," 数据观测时间："+Vue.toDisplayString(new Date(Vue.unref(l).updateTime).toLocaleString("zh-CN",{dateStyle:"full",timeStyle:"short"})),1)]),Vue.createElementVNode("div",Bt,[Kt,Vue.createElementVNode("div",zt,[Vue.createElementVNode("i",{class:Vue.normalizeClass(`qi-${Vue.unref(l)[3].value}`)},null,2),Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l)[1].value)+"℃",1),Vue.createElementVNode("div",Ut,[Vue.createElementVNode("p",null,Vue.toDisplayString(Vue.unref(l)[4].value),1),Vue.createElementVNode("p",null,"体感温度："+Vue.toDisplayString(Vue.unref(l)[2].value)+"°",1)]),Vue.createElementVNode("p",jt,[Vue.createElementVNode("img",{src:Vue.unref(r),alt:"rain",style:{width:"1.15rem",height:"1.15rem","vertical-align":"middle"}},null,8,Ht),Vue.createTextVNode(" "+Vue.toDisplayString(Vue.unref(l).summary),1)])]),Vue.unref(l).warning?(Vue.openBlock(),Vue.createElementBlock("div",kt,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(l).warning,i=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"weather-icon",style:Vue.normalizeStyle(`background-color: ${m(i.severityColor)}`),key:i.id},[Vue.createVNode(oe,{effect:"dark",content:i.title,placement:"bottom"},{default:Vue.withCtx(()=>[Vue.createElementVNode("i",{class:Vue.normalizeClass(`qi-${i.type}`),style:{"font-size":"32px"}},null,2)]),_:2},1032,["content"])],4))),128))])):Vue.createCommentVNode("",!0)]),Vue.createElementVNode("div",Jt,[Vue.createElementVNode("p",null,[Wt,Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l)[6].value)+" "+Vue.toDisplayString(Vue.unref(l)[7].value)+"级 ",1)]),Vue.createElementVNode("p",null,[Ft,Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l)[9].value)+"%",1)]),Vue.createElementVNode("p",null,[Gt,Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l)[12].value)+" km",1)]),Vue.createElementVNode("p",null,[Yt,Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l)[10].value)+" mm",1)]),Vue.createElementVNode("p",null,[Xt,Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l)[11].value)+" hPa",1)]),Vue.createElementVNode("p",null,[qt,Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l)[14].value)+"°",1)])]),Vue.createElementVNode("div",Zt,[$t,Vue.createElementVNode("ul",null,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(l).hourly,i=>(Vue.openBlock(),Vue.createElementBlock("li",{key:i.fxTime},[Vue.createElementVNode("p",null,[Vue.createElementVNode("span",null,Vue.toDisplayString(new Date(i.fxTime).toLocaleString("zh-CN",{timeStyle:"short"})),1),Vue.createElementVNode("span",null,[Vue.createElementVNode("i",{class:Vue.normalizeClass(`qi-${i.icon}`)},null,2)]),Vue.createElementVNode("span",null,Vue.toDisplayString(i.text),1),Vue.createElementVNode("span",null,Vue.toDisplayString(i.temp)+"℃ ",1)])]))),128))])]),Vue.createElementVNode("div",Qt,[en,Vue.createElementVNode("ul",null,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(l).daily,i=>(Vue.openBlock(),Vue.createElementBlock("li",{key:i.fxDate},[Vue.createElementVNode("p",tn,[Vue.createElementVNode("span",null,Vue.toDisplayString(new Date(i.fxDate).toLocaleString(void 0,{month:"short",day:"numeric"})),1),Vue.createElementVNode("span",null,Vue.toDisplayString(new Date(i.fxDate).toLocaleString(void 0,{weekday:"short"})),1)]),Vue.createElementVNode("i",{class:Vue.normalizeClass(`qi-${d(i.iconDay,i.iconNight)}`)},null,2),Vue.createElementVNode("p",null,[Vue.createElementVNode("span",null,[Vue.createTextVNode(Vue.toDisplayString(d(i.textDay,i.textNight))+" ",1),nn,Vue.createTextVNode(" "+Vue.toDisplayString(i.tempMin)+"°/"+Vue.toDisplayString(i.tempMax)+"° ",1)]),Vue.createElementVNode("span",null,[Vue.createTextVNode(Vue.toDisplayString(d(i.windDirDay,i.windDirNight))+" ",1),rn,Vue.createTextVNode(" "+Vue.toDisplayString(d(i.windScaleDay,i.windScaleNight))+"级 ",1)])])]))),128))])]),Vue.createElementVNode("div",on,[sn,Vue.createElementVNode("ul",null,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(l).indices,i=>(Vue.openBlock(),Vue.createElementBlock("li",{key:i.name},[Vue.createElementVNode("p",null,[Vue.createElementVNode("span",null,Vue.toDisplayString(i.name),1),Vue.createElementVNode("span",null,Vue.toDisplayString(i.category),1)])]))),128))])]),Vue.createElementVNode("div",ln,[an,Vue.createElementVNode("ul",null,[Vue.createElementVNode("li",null,[Vue.createVNode(se,{aqi:Number((C=(D=Vue.unref(l))==null?void 0:D.air)==null?void 0:C.aqi),category:(K=(B=Vue.unref(l))==null?void 0:B.air)==null?void 0:K.category},null,8,["aqi","category"])]),Vue.createElementVNode("li",null,[un,Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l).air.pm10),1)]),Vue.createElementVNode("li",null,[cn,Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l).air.pm2p5),1)]),Vue.createElementVNode("li",null,[dn,Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l).air.co),1)]),Vue.createElementVNode("li",null,[pn,Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l).air.no2),1)]),Vue.createElementVNode("li",null,[fn,Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l).air.so2),1)]),Vue.createElementVNode("li",null,[hn,Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(l).air.o3),1)])])]),Vue.createElementVNode("footer",null,[Vn,Vue.createElementVNode("span",null,[Vue.createTextVNode(" © "+Vue.toDisplayString(new Date().getFullYear())+" ",1),_n])])])),[[x,Vue.unref(n)]]):Vue.createCommentVNode("",!0),Vue.unref(t)?(Vue.openBlock(),Vue.createElementBlock("div",mn,[Vue.createVNode(g,{description:"暂无数据"})])):Vue.createCommentVNode("",!0)])]}),_:1})}}}),En=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},yn=En(gn,[["__scopeId","data-v-fdfb92f3"]]);Vue.createApp(yn).use(ElementPlus,{locale:ElementPlusLocaleZhCn}).mount("#app");
